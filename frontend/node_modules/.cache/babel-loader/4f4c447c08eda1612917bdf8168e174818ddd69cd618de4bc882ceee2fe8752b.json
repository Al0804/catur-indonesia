{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\catur-indonesia\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport io from 'socket.io-client';\nimport ChessBoard from './components/ChessBoard';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nconst socket = io(API_URL);\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [currentPage, setCurrentPage] = useState('login');\n  const [loginData, setLoginData] = useState({\n    username: '',\n    password: ''\n  });\n  const [registerData, setRegisterData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    role: 'user'\n  });\n  const [gameState, setGameState] = useState(null);\n  const [friends, setFriends] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [profile, setProfile] = useState({\n    username: '',\n    email: '',\n    points: 0\n  });\n  const [currentPlayer, setCurrentPlayer] = useState('white');\n  const [isPlayerTurn, setIsPlayerTurn] = useState(true);\n  const [gameRequests, setGameRequests] = useState([]);\n  const [gameResult, setGameResult] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      fetchUserProfile();\n    }\n\n    // Socket listeners\n    socket.on('gameRequest', request => {\n      setGameRequests(prev => [...prev, request]);\n    });\n    socket.on('gameStarted', game => {\n      setGameState(game);\n      setCurrentPage('game');\n      setCurrentPlayer('white');\n      setIsPlayerTurn(game.playerColor === 'white');\n      setGameResult(null);\n    });\n    socket.on('moveMade', moveData => {\n      setGameState(prev => ({\n        ...prev,\n        board: moveData.board,\n        currentPlayer: moveData.currentPlayer\n      }));\n      setCurrentPlayer(moveData.currentPlayer);\n      setIsPlayerTurn(moveData.currentPlayer === (gameState === null || gameState === void 0 ? void 0 : gameState.playerColor));\n    });\n    return () => {\n      socket.off('gameRequest');\n      socket.off('gameStarted');\n      socket.off('moveMade');\n    };\n  }, [gameState === null || gameState === void 0 ? void 0 : gameState.playerColor]);\n  const fetchUserProfile = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API_URL}/api/profile`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUser(response.data);\n      setProfile(response.data);\n      setCurrentPage('dashboard');\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n    }\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(`${API_URL}/api/login`, loginData);\n      localStorage.setItem('token', response.data.token);\n      setUser(response.data.user);\n      socket.emit('userConnected', response.data.user.id);\n      setCurrentPage('dashboard');\n    } catch (error) {\n      alert('Login gagal: ' + error.response.data.message);\n    }\n  };\n  const handleRegister = async e => {\n    e.preventDefault();\n    try {\n      await axios.post(`${API_URL}/api/register`, registerData);\n      alert('Registrasi berhasil! Silakan login.');\n      setCurrentPage('login');\n    } catch (error) {\n      alert('Registrasi gagal: ' + error.response.data.message);\n    }\n  };\n\n  // Fungsi untuk mengecek skakmat\n  const isCheckmate = (board, playerColor) => {\n    const kingPiece = playerColor === 'white' ? '♔' : '♚';\n    let kingPosition = null;\n\n    // Cari posisi raja\n    for (let row = 0; row < 8; row++) {\n      for (let col = 0; col < 8; col++) {\n        if (board[row][col] === kingPiece) {\n          kingPosition = [row, col];\n          break;\n        }\n      }\n      if (kingPosition) break;\n    }\n    if (!kingPosition) return true; // Raja sudah tidak ada\n\n    // Cek apakah raja dalam skak\n    const isInCheck = isKingInCheck(board, kingPosition, playerColor);\n    if (!isInCheck) return false; // Bukan skakmat jika raja tidak dalam skak\n\n    // Cek apakah ada gerakan yang bisa menyelamatkan raja\n    const pieces = playerColor === 'white' ? ['♙', '♖', '♘', '♗', '♕', '♔'] : ['♟', '♜', '♞', '♝', '♛', '♚'];\n    for (let row = 0; row < 8; row++) {\n      for (let col = 0; col < 8; col++) {\n        const piece = board[row][col];\n        if (pieces.includes(piece)) {\n          const possibleMoves = getPossibleMovesForPiece(board, row, col, piece);\n          for (const move of possibleMoves) {\n            // Simulasikan gerakan\n            const newBoard = board.map(r => [...r]);\n            newBoard[move[0]][move[1]] = newBoard[row][col];\n            newBoard[row][col] = null;\n\n            // Cari posisi raja setelah gerakan\n            let newKingPosition = kingPosition;\n            if (piece === kingPiece) {\n              newKingPosition = move;\n            }\n\n            // Cek apakah raja masih dalam skak setelah gerakan\n            if (!isKingInCheck(newBoard, newKingPosition, playerColor)) {\n              return false; // Ada gerakan yang bisa menyelamatkan\n            }\n          }\n        }\n      }\n    }\n    return true; // Skakmat\n  };\n\n  // Fungsi untuk mengecek apakah raja dalam skak\n  const isKingInCheck = (board, kingPosition, playerColor) => {\n    const opponentColor = playerColor === 'white' ? 'black' : 'white';\n    const opponentPieces = opponentColor === 'white' ? ['♙', '♖', '♘', '♗', '♕', '♔'] : ['♟', '♜', '♞', '♝', '♛', '♚'];\n    for (let row = 0; row < 8; row++) {\n      for (let col = 0; col < 8; col++) {\n        const piece = board[row][col];\n        if (opponentPieces.includes(piece)) {\n          if (isValidMoveForBot(board, row, col, kingPosition[0], kingPosition[1], piece)) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  };\n\n  // Bot AI logic (diperbaiki)\n  const makeBotMove = (board, currentPlayerColor) => {\n    const botColor = currentPlayerColor === 'white' ? 'white' : 'black';\n    const possibleMoves = getAllPossibleMoves(board, botColor);\n    if (possibleMoves.length === 0) return null;\n\n    // AI sederhana: prioritaskan memakan buah lawan\n    const captureMoves = possibleMoves.filter(move => board[move.to[0]][move.to[1]] !== null);\n    const selectedMoves = captureMoves.length > 0 ? captureMoves : possibleMoves;\n    const randomMove = selectedMoves[Math.floor(Math.random() * selectedMoves.length)];\n    return randomMove;\n  };\n  const getAllPossibleMoves = (board, color) => {\n    const moves = [];\n    const pieces = color === 'white' ? ['♙', '♖', '♘', '♗', '♕', '♔'] : ['♟', '♜', '♞', '♝', '♛', '♚'];\n    for (let row = 0; row < 8; row++) {\n      for (let col = 0; col < 8; col++) {\n        const piece = board[row][col];\n        if (pieces.includes(piece)) {\n          const pieceMoves = getPossibleMovesForPiece(board, row, col, piece);\n          moves.push(...pieceMoves.map(move => ({\n            from: [row, col],\n            to: move,\n            piece\n          })));\n        }\n      }\n    }\n    return moves;\n  };\n  const getPossibleMovesForPiece = (board, row, col, piece) => {\n    const moves = [];\n    for (let r = 0; r < 8; r++) {\n      for (let c = 0; c < 8; c++) {\n        if (isValidMoveForBot(board, row, col, r, c, piece)) {\n          moves.push([r, c]);\n        }\n      }\n    }\n    return moves;\n  };\n  const getPieceColor = piece => {\n    const whitePieces = ['♙', '♖', '♘', '♗', '♕', '♔'];\n    const blackPieces = ['♟', '♜', '♞', '♝', '♛', '♚'];\n    if (whitePieces.includes(piece)) return 'white';\n    if (blackPieces.includes(piece)) return 'black';\n    return null;\n  };\n  const isValidMoveForBot = (board, fromRow, fromCol, toRow, toCol, piece) => {\n    // Pastikan tidak keluar dari papan\n    if (toRow < 0 || toRow > 7 || toCol < 0 || toCol > 7) return false;\n\n    // Tidak bisa memakan buah sendiri\n    const targetPiece = board[toRow][toCol];\n    if (targetPiece && getPieceColor(piece) === getPieceColor(targetPiece)) {\n      return false;\n    }\n    const rowDiff = Math.abs(toRow - fromRow);\n    const colDiff = Math.abs(toCol - fromCol);\n    switch (piece) {\n      case '♙':\n        // Pion putih\n        if (fromRow === 6 && toRow === 4 && fromCol === toCol && !board[5][toCol] && !board[4][toCol]) return true;\n        if (toRow === fromRow - 1 && fromCol === toCol && !targetPiece) return true;\n        if (toRow === fromRow - 1 && Math.abs(toCol - fromCol) === 1 && targetPiece) return true;\n        return false;\n      case '♟':\n        // Pion hitam\n        if (fromRow === 1 && toRow === 3 && fromCol === toCol && !board[2][toCol] && !board[3][toCol]) return true;\n        if (toRow === fromRow + 1 && fromCol === toCol && !targetPiece) return true;\n        if (toRow === fromRow + 1 && Math.abs(toCol - fromCol) === 1 && targetPiece) return true;\n        return false;\n      case '♖':\n      case '♜':\n        // Benteng\n        if (fromRow !== toRow && fromCol !== toCol) return false;\n        return isPathClearForBot(board, fromRow, fromCol, toRow, toCol);\n      case '♗':\n      case '♝':\n        // Gajah\n        if (rowDiff !== colDiff) return false;\n        return isPathClearForBot(board, fromRow, fromCol, toRow, toCol);\n      case '♘':\n      case '♞':\n        // Kuda\n        return rowDiff === 2 && colDiff === 1 || rowDiff === 1 && colDiff === 2;\n      case '♕':\n      case '♛':\n        // Ratu\n        if (fromRow !== toRow && fromCol !== toCol && rowDiff !== colDiff) return false;\n        return isPathClearForBot(board, fromRow, fromCol, toRow, toCol);\n      case '♔':\n      case '♚':\n        // Raja\n        return rowDiff <= 1 && colDiff <= 1;\n      default:\n        return false;\n    }\n  };\n  const isPathClearForBot = (board, fromRow, fromCol, toRow, toCol) => {\n    const rowDirection = toRow > fromRow ? 1 : toRow < fromRow ? -1 : 0;\n    const colDirection = toCol > fromCol ? 1 : toCol < fromCol ? -1 : 0;\n    let currentRow = fromRow + rowDirection;\n    let currentCol = fromCol + colDirection;\n    while (currentRow !== toRow || currentCol !== toCol) {\n      if (board[currentRow][currentCol] !== null) return false;\n      currentRow += rowDirection;\n      currentCol += colDirection;\n    }\n    return true;\n  };\n\n  // Fungsi untuk update poin dan leaderboard (DIPERBAIKI)\n  const updatePlayerPoints = async (isWin, gameType) => {\n    try {\n      const token = localStorage.getItem('token');\n      let pointsEarned = 0;\n      if (isWin) {\n        pointsEarned = gameType === 'bot' ? 50 : 100;\n      }\n      const response = await axios.put(`${API_URL}/api/user/points`, {\n        points: pointsEarned,\n        gameType: gameType,\n        isWin: isWin\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // Update state user dengan data terbaru dari server\n      setUser(response.data.user);\n      setProfile(response.data.user);\n      console.log('Poin berhasil diupdate:', response.data.user);\n\n      // Refresh leaderboard setelah update poin\n      await fetchLeaderboard();\n    } catch (error) {\n      console.error('Error updating points:', error);\n      // Fallback: update lokal jika API gagal\n      const pointsEarned = isWin ? gameType === 'bot' ? 50 : 100 : 0;\n      const updatedUser = {\n        ...user,\n        points: (user.points || 0) + pointsEarned,\n        games_played: (user.games_played || 0) + 1,\n        wins: isWin ? (user.wins || 0) + 1 : user.wins || 0\n      };\n      setUser(updatedUser);\n      setProfile(updatedUser);\n    }\n  };\n  const handleMove = async moveData => {\n    const newGameState = {\n      ...gameState,\n      board: moveData.board,\n      currentPlayer: currentPlayer === 'white' ? 'black' : 'white'\n    };\n    setGameState(newGameState);\n\n    // Cek skakmat setelah gerakan\n    const nextPlayer = newGameState.currentPlayer;\n    const isGameOver = isCheckmate(moveData.board, nextPlayer);\n    if (isGameOver) {\n      const winner = currentPlayer;\n      const isPlayerWin = winner === gameState.playerColor;\n      setGameResult({\n        winner,\n        isPlayerWin,\n        message: isPlayerWin ? 'Selamat! Anda menang!' : 'Anda kalah!'\n      });\n\n      // Update poin setelah game selesai\n      await updatePlayerPoints(isPlayerWin, gameState.gameType);\n\n      // Simpan hasil game ke database jika bukan vs bot\n      if (gameState.gameType !== 'bot') {\n        try {\n          const token = localStorage.getItem('token');\n          await axios.post(`${API_URL}/api/game/finish`, {\n            gameId: gameState.id,\n            winnerId: isPlayerWin ? user.id : null,\n            gameType: gameState.gameType\n          }, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n        } catch (error) {\n          console.error('Error finishing game:', error);\n        }\n      }\n      return;\n    }\n    setCurrentPlayer(newGameState.currentPlayer);\n\n    // Jika vs bot dan bukan giliran pemain\n    if (gameState.gameType === 'bot' && newGameState.currentPlayer !== gameState.playerColor) {\n      setIsPlayerTurn(false);\n\n      // Bot bergerak setelah delay\n      setTimeout(async () => {\n        const botMove = makeBotMove(moveData.board, newGameState.currentPlayer);\n        if (botMove) {\n          const botBoard = [...moveData.board];\n          botBoard[botMove.to[0]][botMove.to[1]] = botBoard[botMove.from[0]][botMove.from[1]];\n          botBoard[botMove.from[0]][botMove.from[1]] = null;\n\n          // Cek skakmat setelah gerakan bot\n          const isBotGameOver = isCheckmate(botBoard, gameState.playerColor);\n          if (isBotGameOver) {\n            setGameResult({\n              winner: newGameState.currentPlayer,\n              isPlayerWin: false,\n              message: 'Bot menang! Coba lagi!'\n            });\n            setGameState(prev => ({\n              ...prev,\n              board: botBoard\n            }));\n\n            // Update poin untuk kekalahan\n            await updatePlayerPoints(false, gameState.gameType);\n            return;\n          }\n          setGameState(prev => ({\n            ...prev,\n            board: botBoard,\n            currentPlayer: gameState.playerColor\n          }));\n          setCurrentPlayer(gameState.playerColor);\n          setIsPlayerTurn(true);\n        }\n      }, 1000);\n    } else if (gameState.gameType !== 'bot') {\n      // Kirim gerakan ke socket untuk multiplayer\n      socket.emit('makeMove', {\n        gameId: gameState.id,\n        move: moveData\n      });\n    } else {\n      setIsPlayerTurn(true);\n    }\n  };\n  const startGame = async gameType => {\n    if (gameType === 'bot') {\n      // Langsung mulai game vs bot\n      const newGameState = {\n        id: Date.now(),\n        gameType: 'bot',\n        playerColor: 'white',\n        board: [['♜', '♞', '♝', '♛', '♚', '♝', '♞', '♜'], ['♟', '♟', '♟', '♟', '♟', '♟', '♟', '♟'], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], ['♙', '♙', '♙', '♙', '♙', '♙', '♙', '♙'], ['♖', '♘', '♗', '♕', '♔', '♗', '♘', '♖']]\n      };\n      setGameState(newGameState);\n      setCurrentPlayer('white');\n      setIsPlayerTurn(true);\n      setGameResult(null);\n      setCurrentPage('game');\n    } else {\n      // Untuk random dan friend, kirim request\n      try {\n        const token = localStorage.getItem('token');\n        socket.emit('findGame', {\n          gameType,\n          userId: user.id,\n          token\n        });\n        alert(`Mencari ${gameType === 'random' ? 'lawan random' : 'teman'}...`);\n      } catch (error) {\n        alert('Gagal memulai permainan: ' + error.message);\n      }\n    }\n  };\n  const sendGameRequest = friendId => {\n    socket.emit('gameRequest', {\n      from: user.id,\n      to: friendId,\n      fromUsername: user.username\n    });\n    alert('Permintaan permainan dikirim!');\n  };\n  const acceptGameRequest = requestId => {\n    socket.emit('acceptGameRequest', requestId);\n    setGameRequests(prev => prev.filter(req => req.id !== requestId));\n  };\n  const rejectGameRequest = requestId => {\n    socket.emit('rejectGameRequest', requestId);\n    setGameRequests(prev => prev.filter(req => req.id !== requestId));\n  };\n  const fetchFriends = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API_URL}/api/friends`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setFriends(response.data);\n    } catch (error) {\n      console.error('Error fetching friends:', error);\n      // Fallback: tampilkan data dummy jika API tidak tersedia\n      setFriends([{\n        id: 1,\n        username: 'player1',\n        points: 1500\n      }, {\n        id: 2,\n        username: 'player2',\n        points: 1200\n      }, {\n        id: 3,\n        username: 'player3',\n        points: 1800\n      }]);\n    }\n  };\n  const searchUsers = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API_URL}/api/users/search?q=${searchTerm}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setAllUsers(response.data);\n    } catch (error) {\n      console.error('Error searching users:', error);\n      // Fallback: tampilkan data dummy\n      const dummyUsers = [{\n        id: 4,\n        username: 'chessmaster',\n        points: 2000\n      }, {\n        id: 5,\n        username: 'rookie123',\n        points: 800\n      }, {\n        id: 6,\n        username: 'grandmaster',\n        points: 2500\n      }].filter(user => user.username.toLowerCase().includes(searchTerm.toLowerCase()));\n      setAllUsers(dummyUsers);\n    }\n  };\n  const addFriend = async userId => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post(`${API_URL}/api/friends/add`, {\n        friendId: userId\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert('Teman berhasil ditambahkan!');\n      fetchFriends();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert('Gagal menambahkan teman: ' + ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message);\n    }\n  };\n  const fetchLeaderboard = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/api/leaderboard`);\n      setLeaderboard(response.data);\n      console.log('Leaderboard updated:', response.data);\n    } catch (error) {\n      console.error('Error fetching leaderboard:', error);\n      // Fallback data dengan user terkini\n      const fallbackData = [{\n        id: 1,\n        username: 'grandmaster',\n        points: 2500\n      }, {\n        id: 2,\n        username: 'chessking',\n        points: 2200\n      }, {\n        id: 3,\n        username: 'strategymaster',\n        points: 2000\n      }, {\n        id: 4,\n        username: 'player1',\n        points: 1800\n      }, {\n        id: 5,\n        username: 'rookie123',\n        points: 1500\n      }];\n\n      // Tambahkan user saat ini jika belum ada\n      if (user && !fallbackData.find(p => p.username === user.username)) {\n        fallbackData.push({\n          id: user.id,\n          username: user.username,\n          points: user.points || 0,\n          games_played: user.games_played || 0,\n          wins: user.wins || 0\n        });\n      }\n\n      // Sort berdasarkan poin\n      fallbackData.sort((a, b) => b.points - a.points);\n      setLeaderboard(fallbackData);\n    }\n  };\n  const updateProfile = async updatedProfile => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.put(`${API_URL}/api/profile`, updatedProfile, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setProfile(response.data.user);\n      setUser(response.data.user);\n      alert('Profil berhasil diperbarui!');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      alert('Gagal memperbarui profil: ' + ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message);\n    }\n  };\n  const logout = () => {\n    localStorage.removeItem('token');\n    socket.emit('userDisconnected', user === null || user === void 0 ? void 0 : user.id);\n    setUser(null);\n    setCurrentPage('login');\n  };\n  const renderLogin = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDDEE\\uD83C\\uDDE9 Catur Indonesia - Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          value: loginData.username,\n          onChange: e => setLoginData({\n            ...loginData,\n            username: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: loginData.password,\n          onChange: e => setLoginData({\n            ...loginData,\n            password: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Belum punya akun? \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentPage('register'),\n          children: \"Daftar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 596,\n    columnNumber: 5\n  }, this);\n  const renderRegister = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDDEE\\uD83C\\uDDE9 Catur Indonesia - Daftar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleRegister,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          value: registerData.username,\n          onChange: e => setRegisterData({\n            ...registerData,\n            username: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: registerData.email,\n          onChange: e => setRegisterData({\n            ...registerData,\n            email: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: registerData.password,\n          onChange: e => setRegisterData({\n            ...registerData,\n            password: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: registerData.role,\n          onChange: e => setRegisterData({\n            ...registerData,\n            role: e.target.value\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"user\",\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Daftar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Sudah punya akun? \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentPage('login'),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 622,\n    columnNumber: 5\n  }, this);\n  const renderNavigation = () => /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"navigation\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav-brand\",\n      children: \"\\uD83C\\uDDEE\\uD83C\\uDDE9 Catur Indonesia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav-links\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentPage('dashboard'),\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentPage('play'),\n        children: \"Main\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setCurrentPage('friends');\n          fetchFriends();\n        },\n        children: \"Teman\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentPage('tutorial'),\n        children: \"Tutorial\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentPage('profile'),\n        children: \"Profil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setCurrentPage('leaderboard');\n          fetchLeaderboard();\n        },\n        children: \"Papan Skor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        children: \"Keluar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 664,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-info\",\n      children: [\"Halo, \", user === null || user === void 0 ? void 0 : user.username, \"! (Poin: \", (user === null || user === void 0 ? void 0 : user.points) || 0, \")\", gameRequests.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"notification-badge\",\n        children: gameRequests.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 662,\n    columnNumber: 5\n  }, this);\n  const renderGameRequests = () => {\n    if (gameRequests.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-requests\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Permintaan Permainan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 9\n      }, this), gameRequests.map(request => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-request\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [request.fromUsername, \" mengundang Anda bermain catur\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 690,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => acceptGameRequest(request.id),\n          children: \"Terima\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => rejectGameRequest(request.id),\n          children: \"Tolak\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 13\n        }, this)]\n      }, request.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 689,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 7\n    }, this);\n  };\n  const renderDashboard = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Selamat Datang di Catur Indonesia! \\uD83C\\uDDEE\\uD83C\\uDDE9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 701,\n      columnNumber: 7\n    }, this), renderGameRequests(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"welcome-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Halo, \", user === null || user === void 0 ? void 0 : user.username, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Selamat datang di platform catur terbesar Indonesia. Mari mulai permainan yang menantang!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Poin Anda\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: (user === null || user === void 0 ? void 0 : user.points) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Permainan Dimainkan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: (user === null || user === void 0 ? void 0 : user.games_played) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Kemenangan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: (user === null || user === void 0 ? void 0 : user.wins) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 703,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 700,\n    columnNumber: 5\n  }, this);\n  const renderPlay = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"play-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Pilih Mode Permainan\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 726,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-modes\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-mode-card\",\n        onClick: () => startGame('random'),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83C\\uDFB2 Lawan Random\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Bermain melawan pemain acak\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-mode-card\",\n        onClick: () => startGame('bot'),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83E\\uDD16 Lawan Bot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Berlatih melawan komputer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-mode-card\",\n        onClick: () => startGame('friend'),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDC65 Undang Teman\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Bermain dengan teman\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 736,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 725,\n    columnNumber: 5\n  }, this);\n  const renderGame = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Permainan Catur\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 746,\n      columnNumber: 7\n    }, this), gameResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `game-result ${gameResult.isPlayerWin ? 'win' : 'lose'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: gameResult.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 11\n      }, this), gameResult.isPlayerWin && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"+\", gameState.gameType === 'bot' ? 50 : 100, \" poin!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 750,\n        columnNumber: 38\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentPage('dashboard'),\n        children: \"Kembali ke Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 751,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => startGame(gameState.gameType),\n        children: \"Main Lagi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 752,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ChessBoard, {\n      gameState: gameState,\n      onMove: handleMove,\n      currentPlayer: currentPlayer,\n      isPlayerTurn: isPlayerTurn,\n      gameResult: gameResult\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 755,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentPage('dashboard'),\n      children: \"Kembali ke Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 762,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 745,\n    columnNumber: 5\n  }, this);\n  const renderFriends = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"friends-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Daftar Teman\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Cari Pengguna Baru\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Masukkan username...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: searchUsers,\n          children: \"Cari\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 773,\n        columnNumber: 9\n      }, this), allUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-results\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Hasil Pencarian:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 13\n        }, this), allUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Poin: \", user.points]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => addFriend(user.id),\n            children: \"Tambah Teman\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 17\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 787,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 784,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"friends-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Teman Anda\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 799,\n        columnNumber: 9\n      }, this), friends.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Anda belum memiliki teman. Cari dan tambahkan teman baru!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 801,\n        columnNumber: 11\n      }, this) : friends.map(friend => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"friend-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: friend.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Poin: \", friend.points]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => sendGameRequest(friend.id),\n          children: \"Undang Main\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 15\n        }, this)]\n      }, friend.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 798,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 767,\n    columnNumber: 5\n  }, this);\n  const renderTutorial = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tutorial-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Tutorial Catur Indonesia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 817,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tutorial-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Cara Bermain Catur\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 819,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Catur adalah permainan strategi untuk dua pemain yang dimainkan di atas papan berpetak 8x8.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 820,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Peraturan Dasar:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 822,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Setiap pemain memulai dengan 16 buah catur\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Tujuan: mengalahkan raja lawan (skakmat)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 825,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Pemain dengan buah putih bergerak terlebih dahulu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Setiap buah memiliki cara bergerak yang berbeda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 823,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Gerakan Buah Catur:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 830,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Raja (\\u2654/\\u265A):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 15\n          }, this), \" Bergerak satu kotak ke segala arah\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Ratu (\\u2655/\\u265B):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 15\n          }, this), \" Bergerak bebas horizontal, vertikal, dan diagonal\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 833,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Benteng (\\u2656/\\u265C):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 15\n          }, this), \" Bergerak horizontal dan vertikal\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 834,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Gajah (\\u2657/\\u265D):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 15\n          }, this), \" Bergerak diagonal\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 835,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Kuda (\\u2658/\\u265E):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 15\n          }, this), \" Bergerak berbentuk L\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Pion (\\u2659/\\u265F):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 15\n          }, this), \" Bergerak maju satu kotak, memakan diagonal\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 837,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 831,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Gerakan Khusus:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 840,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Rokade:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 842,\n            columnNumber: 15\n          }, this), \" Gerakan khusus raja dan benteng\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 842,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"En Passant:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 843,\n            columnNumber: 15\n          }, this), \" Cara khusus pion memakan pion lawan\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Promosi Pion:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 15\n          }, this), \" Pion yang mencapai ujung papan dapat dipromosikan\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 844,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 841,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Sistem Poin:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 847,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Menang vs Bot: +50 poin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 849,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Menang vs Pemain: +100 poin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 848,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 818,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 816,\n    columnNumber: 5\n  }, this);\n  const renderProfile = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Profil Pengguna\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 858,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Username\",\n        value: profile.username,\n        onChange: e => setProfile({\n          ...profile,\n          username: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 860,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: profile.email,\n        onChange: e => setProfile({\n          ...profile,\n          email: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 866,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Poin: \", profile.points]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 872,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Permainan Dimainkan: \", profile.games_played || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Kemenangan: \", profile.wins || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => updateProfile(profile),\n        children: \"Perbarui Profil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 859,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 857,\n    columnNumber: 5\n  }, this);\n  const renderLeaderboard = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"leaderboard-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Papan Skor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 882,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchLeaderboard,\n      style: {\n        marginBottom: '20px'\n      },\n      children: \"\\uD83D\\uDD04 Refresh Leaderboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 883,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leaderboard-list\",\n      children: leaderboard.map((player, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `leaderboard-item ${player.username === (user === null || user === void 0 ? void 0 : user.username) ? 'current-user' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rank\",\n          children: [\"#\", index + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 889,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"username\",\n          children: player.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"points\",\n          children: [player.points, \" poin\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 891,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats\",\n          children: [\"(\", player.games_played || 0, \" games, \", player.wins || 0, \" wins)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 892,\n          columnNumber: 13\n        }, this)]\n      }, player.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 888,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 886,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 881,\n    columnNumber: 5\n  }, this);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [currentPage === 'login' && renderLogin(), currentPage === 'register' && renderRegister()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 903,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [renderNavigation(), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: [currentPage === 'dashboard' && renderDashboard(), currentPage === 'play' && renderPlay(), currentPage === 'game' && renderGame(), currentPage === 'friends' && renderFriends(), currentPage === 'tutorial' && renderTutorial(), currentPage === 'profile' && renderProfile(), currentPage === 'leaderboard' && renderLeaderboard()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 913,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 911,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"1nXLNizcY7Zkiw+x0koBk1RSNrQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","io","ChessBoard","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","socket","App","_s","user","setUser","currentPage","setCurrentPage","loginData","setLoginData","username","password","registerData","setRegisterData","email","role","gameState","setGameState","friends","setFriends","allUsers","setAllUsers","searchTerm","setSearchTerm","leaderboard","setLeaderboard","profile","setProfile","points","currentPlayer","setCurrentPlayer","isPlayerTurn","setIsPlayerTurn","gameRequests","setGameRequests","gameResult","setGameResult","token","localStorage","getItem","fetchUserProfile","on","request","prev","game","playerColor","moveData","board","off","response","get","headers","Authorization","data","error","console","handleLogin","e","preventDefault","post","setItem","emit","id","alert","message","handleRegister","isCheckmate","kingPiece","kingPosition","row","col","isInCheck","isKingInCheck","pieces","piece","includes","possibleMoves","getPossibleMovesForPiece","move","newBoard","map","r","newKingPosition","opponentColor","opponentPieces","isValidMoveForBot","makeBotMove","currentPlayerColor","botColor","getAllPossibleMoves","length","captureMoves","filter","to","selectedMoves","randomMove","Math","floor","random","color","moves","pieceMoves","push","from","c","getPieceColor","whitePieces","blackPieces","fromRow","fromCol","toRow","toCol","targetPiece","rowDiff","abs","colDiff","isPathClearForBot","rowDirection","colDirection","currentRow","currentCol","updatePlayerPoints","isWin","gameType","pointsEarned","put","log","fetchLeaderboard","updatedUser","games_played","wins","handleMove","newGameState","nextPlayer","isGameOver","winner","isPlayerWin","gameId","winnerId","setTimeout","botMove","botBoard","isBotGameOver","startGame","Date","now","userId","sendGameRequest","friendId","fromUsername","acceptGameRequest","requestId","req","rejectGameRequest","fetchFriends","searchUsers","dummyUsers","toLowerCase","addFriend","_error$response","_error$response$data","fallbackData","find","p","sort","a","b","updateProfile","updatedProfile","_error$response2","_error$response2$data","logout","removeItem","renderLogin","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","onClick","renderRegister","renderNavigation","renderGameRequests","renderDashboard","renderPlay","renderGame","onMove","renderFriends","friend","renderTutorial","renderProfile","renderLeaderboard","style","marginBottom","player","index","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/catur-indonesia/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport io from 'socket.io-client';\r\nimport ChessBoard from './components/ChessBoard';\r\nimport './App.css';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\nconst socket = io(API_URL);\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState('login');\r\n  const [loginData, setLoginData] = useState({ username: '', password: '' });\r\n  const [registerData, setRegisterData] = useState({ username: '', email: '', password: '', role: 'user' });\r\n  const [gameState, setGameState] = useState(null);\r\n  const [friends, setFriends] = useState([]);\r\n  const [allUsers, setAllUsers] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [leaderboard, setLeaderboard] = useState([]);\r\n  const [profile, setProfile] = useState({ username: '', email: '', points: 0 });\r\n  const [currentPlayer, setCurrentPlayer] = useState('white');\r\n  const [isPlayerTurn, setIsPlayerTurn] = useState(true);\r\n  const [gameRequests, setGameRequests] = useState([]);\r\n  const [gameResult, setGameResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      fetchUserProfile();\r\n    }\r\n\r\n    // Socket listeners\r\n    socket.on('gameRequest', (request) => {\r\n      setGameRequests(prev => [...prev, request]);\r\n    });\r\n\r\n    socket.on('gameStarted', (game) => {\r\n      setGameState(game);\r\n      setCurrentPage('game');\r\n      setCurrentPlayer('white');\r\n      setIsPlayerTurn(game.playerColor === 'white');\r\n      setGameResult(null);\r\n    });\r\n\r\n    socket.on('moveMade', (moveData) => {\r\n      setGameState(prev => ({\r\n        ...prev,\r\n        board: moveData.board,\r\n        currentPlayer: moveData.currentPlayer\r\n      }));\r\n      setCurrentPlayer(moveData.currentPlayer);\r\n      setIsPlayerTurn(moveData.currentPlayer === gameState?.playerColor);\r\n    });\r\n\r\n    return () => {\r\n      socket.off('gameRequest');\r\n      socket.off('gameStarted');\r\n      socket.off('moveMade');\r\n    };\r\n  }, [gameState?.playerColor]);\r\n\r\n  const fetchUserProfile = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.get(`${API_URL}/api/profile`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setUser(response.data);\r\n      setProfile(response.data);\r\n      setCurrentPage('dashboard');\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error);\r\n    }\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(`${API_URL}/api/login`, loginData);\r\n      localStorage.setItem('token', response.data.token);\r\n      setUser(response.data.user);\r\n      socket.emit('userConnected', response.data.user.id);\r\n      setCurrentPage('dashboard');\r\n    } catch (error) {\r\n      alert('Login gagal: ' + error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(`${API_URL}/api/register`, registerData);\r\n      alert('Registrasi berhasil! Silakan login.');\r\n      setCurrentPage('login');\r\n    } catch (error) {\r\n      alert('Registrasi gagal: ' + error.response.data.message);\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk mengecek skakmat\r\n  const isCheckmate = (board, playerColor) => {\r\n    const kingPiece = playerColor === 'white' ? '♔' : '♚';\r\n    let kingPosition = null;\r\n\r\n    // Cari posisi raja\r\n    for (let row = 0; row < 8; row++) {\r\n      for (let col = 0; col < 8; col++) {\r\n        if (board[row][col] === kingPiece) {\r\n          kingPosition = [row, col];\r\n          break;\r\n        }\r\n      }\r\n      if (kingPosition) break;\r\n    }\r\n\r\n    if (!kingPosition) return true; // Raja sudah tidak ada\r\n\r\n    // Cek apakah raja dalam skak\r\n    const isInCheck = isKingInCheck(board, kingPosition, playerColor);\r\n    \r\n    if (!isInCheck) return false; // Bukan skakmat jika raja tidak dalam skak\r\n\r\n    // Cek apakah ada gerakan yang bisa menyelamatkan raja\r\n    const pieces = playerColor === 'white' ? ['♙', '♖', '♘', '♗', '♕', '♔'] : ['♟', '♜', '♞', '♝', '♛', '♚'];\r\n    \r\n    for (let row = 0; row < 8; row++) {\r\n      for (let col = 0; col < 8; col++) {\r\n        const piece = board[row][col];\r\n        if (pieces.includes(piece)) {\r\n          const possibleMoves = getPossibleMovesForPiece(board, row, col, piece);\r\n          for (const move of possibleMoves) {\r\n            // Simulasikan gerakan\r\n            const newBoard = board.map(r => [...r]);\r\n            newBoard[move[0]][move[1]] = newBoard[row][col];\r\n            newBoard[row][col] = null;\r\n            \r\n            // Cari posisi raja setelah gerakan\r\n            let newKingPosition = kingPosition;\r\n            if (piece === kingPiece) {\r\n              newKingPosition = move;\r\n            }\r\n            \r\n            // Cek apakah raja masih dalam skak setelah gerakan\r\n            if (!isKingInCheck(newBoard, newKingPosition, playerColor)) {\r\n              return false; // Ada gerakan yang bisa menyelamatkan\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    return true; // Skakmat\r\n  };\r\n\r\n  // Fungsi untuk mengecek apakah raja dalam skak\r\n  const isKingInCheck = (board, kingPosition, playerColor) => {\r\n    const opponentColor = playerColor === 'white' ? 'black' : 'white';\r\n    const opponentPieces = opponentColor === 'white' ? ['♙', '♖', '♘', '♗', '♕', '♔'] : ['♟', '♜', '♞', '♝', '♛', '♚'];\r\n    \r\n    for (let row = 0; row < 8; row++) {\r\n      for (let col = 0; col < 8; col++) {\r\n        const piece = board[row][col];\r\n        if (opponentPieces.includes(piece)) {\r\n          if (isValidMoveForBot(board, row, col, kingPosition[0], kingPosition[1], piece)) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // Bot AI logic (diperbaiki)\r\n  const makeBotMove = (board, currentPlayerColor) => {\r\n    const botColor = currentPlayerColor === 'white' ? 'white' : 'black';\r\n    const possibleMoves = getAllPossibleMoves(board, botColor);\r\n    \r\n    if (possibleMoves.length === 0) return null;\r\n    \r\n    // AI sederhana: prioritaskan memakan buah lawan\r\n    const captureMoves = possibleMoves.filter(move => board[move.to[0]][move.to[1]] !== null);\r\n    const selectedMoves = captureMoves.length > 0 ? captureMoves : possibleMoves;\r\n    \r\n    const randomMove = selectedMoves[Math.floor(Math.random() * selectedMoves.length)];\r\n    return randomMove;\r\n  };\r\n\r\n  const getAllPossibleMoves = (board, color) => {\r\n    const moves = [];\r\n    const pieces = color === 'white' ? ['♙', '♖', '♘', '♗', '♕', '♔'] : ['♟', '♜', '♞', '♝', '♛', '♚'];\r\n    \r\n    for (let row = 0; row < 8; row++) {\r\n      for (let col = 0; col < 8; col++) {\r\n        const piece = board[row][col];\r\n        if (pieces.includes(piece)) {\r\n          const pieceMoves = getPossibleMovesForPiece(board, row, col, piece);\r\n          moves.push(...pieceMoves.map(move => ({\r\n            from: [row, col],\r\n            to: move,\r\n            piece\r\n          })));\r\n        }\r\n      }\r\n    }\r\n    return moves;\r\n  };\r\n\r\n  const getPossibleMovesForPiece = (board, row, col, piece) => {\r\n    const moves = [];\r\n    for (let r = 0; r < 8; r++) {\r\n      for (let c = 0; c < 8; c++) {\r\n        if (isValidMoveForBot(board, row, col, r, c, piece)) {\r\n          moves.push([r, c]);\r\n        }\r\n      }\r\n    }\r\n    return moves;\r\n  };\r\n\r\n  const getPieceColor = (piece) => {\r\n    const whitePieces = ['♙', '♖', '♘', '♗', '♕', '♔'];\r\n    const blackPieces = ['♟', '♜', '♞', '♝', '♛', '♚'];\r\n    \r\n    if (whitePieces.includes(piece)) return 'white';\r\n    if (blackPieces.includes(piece)) return 'black';\r\n    return null;\r\n  };\r\n\r\n  const isValidMoveForBot = (board, fromRow, fromCol, toRow, toCol, piece) => {\r\n    // Pastikan tidak keluar dari papan\r\n    if (toRow < 0 || toRow > 7 || toCol < 0 || toCol > 7) return false;\r\n    \r\n    // Tidak bisa memakan buah sendiri\r\n    const targetPiece = board[toRow][toCol];\r\n    if (targetPiece && getPieceColor(piece) === getPieceColor(targetPiece)) {\r\n      return false;\r\n    }\r\n\r\n    const rowDiff = Math.abs(toRow - fromRow);\r\n    const colDiff = Math.abs(toCol - fromCol);\r\n\r\n    switch (piece) {\r\n      case '♙': // Pion putih\r\n        if (fromRow === 6 && toRow === 4 && fromCol === toCol && !board[5][toCol] && !board[4][toCol]) return true;\r\n        if (toRow === fromRow - 1 && fromCol === toCol && !targetPiece) return true;\r\n        if (toRow === fromRow - 1 && Math.abs(toCol - fromCol) === 1 && targetPiece) return true;\r\n        return false;\r\n      \r\n      case '♟': // Pion hitam\r\n        if (fromRow === 1 && toRow === 3 && fromCol === toCol && !board[2][toCol] && !board[3][toCol]) return true;\r\n        if (toRow === fromRow + 1 && fromCol === toCol && !targetPiece) return true;\r\n        if (toRow === fromRow + 1 && Math.abs(toCol - fromCol) === 1 && targetPiece) return true;\r\n        return false;\r\n      \r\n      case '♖':\r\n      case '♜': // Benteng\r\n        if (fromRow !== toRow && fromCol !== toCol) return false;\r\n        return isPathClearForBot(board, fromRow, fromCol, toRow, toCol);\r\n      \r\n      case '♗':\r\n      case '♝': // Gajah\r\n        if (rowDiff !== colDiff) return false;\r\n        return isPathClearForBot(board, fromRow, fromCol, toRow, toCol);\r\n      \r\n      case '♘':\r\n      case '♞': // Kuda\r\n        return (rowDiff === 2 && colDiff === 1) || (rowDiff === 1 && colDiff === 2);\r\n      \r\n      case '♕':\r\n      case '♛': // Ratu\r\n        if (fromRow !== toRow && fromCol !== toCol && rowDiff !== colDiff) return false;\r\n        return isPathClearForBot(board, fromRow, fromCol, toRow, toCol);\r\n      \r\n      case '♔':\r\n      case '♚': // Raja\r\n        return rowDiff <= 1 && colDiff <= 1;\r\n      \r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  const isPathClearForBot = (board, fromRow, fromCol, toRow, toCol) => {\r\n    const rowDirection = toRow > fromRow ? 1 : toRow < fromRow ? -1 : 0;\r\n    const colDirection = toCol > fromCol ? 1 : toCol < fromCol ? -1 : 0;\r\n    \r\n    let currentRow = fromRow + rowDirection;\r\n    let currentCol = fromCol + colDirection;\r\n    \r\n    while (currentRow !== toRow || currentCol !== toCol) {\r\n      if (board[currentRow][currentCol] !== null) return false;\r\n      currentRow += rowDirection;\r\n      currentCol += colDirection;\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n  // Fungsi untuk update poin dan leaderboard (DIPERBAIKI)\r\n  const updatePlayerPoints = async (isWin, gameType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      let pointsEarned = 0;\r\n      \r\n      if (isWin) {\r\n        pointsEarned = gameType === 'bot' ? 50 : 100;\r\n      }\r\n      \r\n      const response = await axios.put(`${API_URL}/api/user/points`, {\r\n        points: pointsEarned,\r\n        gameType: gameType,\r\n        isWin: isWin\r\n      }, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      // Update state user dengan data terbaru dari server\r\n      setUser(response.data.user);\r\n      setProfile(response.data.user);\r\n      \r\n      console.log('Poin berhasil diupdate:', response.data.user);\r\n      \r\n      // Refresh leaderboard setelah update poin\r\n      await fetchLeaderboard();\r\n      \r\n    } catch (error) {\r\n      console.error('Error updating points:', error);\r\n      // Fallback: update lokal jika API gagal\r\n      const pointsEarned = isWin ? (gameType === 'bot' ? 50 : 100) : 0;\r\n      const updatedUser = { \r\n        ...user, \r\n        points: (user.points || 0) + pointsEarned,\r\n        games_played: (user.games_played || 0) + 1,\r\n        wins: isWin ? (user.wins || 0) + 1 : (user.wins || 0)\r\n      };\r\n      setUser(updatedUser);\r\n      setProfile(updatedUser);\r\n    }\r\n  };\r\n\r\n  const handleMove = async (moveData) => {\r\n    const newGameState = {\r\n      ...gameState,\r\n      board: moveData.board,\r\n      currentPlayer: currentPlayer === 'white' ? 'black' : 'white'\r\n    };\r\n\r\n    setGameState(newGameState);\r\n    \r\n    // Cek skakmat setelah gerakan\r\n    const nextPlayer = newGameState.currentPlayer;\r\n    const isGameOver = isCheckmate(moveData.board, nextPlayer);\r\n    \r\n    if (isGameOver) {\r\n      const winner = currentPlayer;\r\n      const isPlayerWin = winner === gameState.playerColor;\r\n      \r\n      setGameResult({\r\n        winner,\r\n        isPlayerWin,\r\n        message: isPlayerWin ? 'Selamat! Anda menang!' : 'Anda kalah!'\r\n      });\r\n      \r\n      // Update poin setelah game selesai\r\n      await updatePlayerPoints(isPlayerWin, gameState.gameType);\r\n      \r\n      // Simpan hasil game ke database jika bukan vs bot\r\n      if (gameState.gameType !== 'bot') {\r\n        try {\r\n          const token = localStorage.getItem('token');\r\n          await axios.post(`${API_URL}/api/game/finish`, {\r\n            gameId: gameState.id,\r\n            winnerId: isPlayerWin ? user.id : null,\r\n            gameType: gameState.gameType\r\n          }, {\r\n            headers: { Authorization: `Bearer ${token}` }\r\n          });\r\n        } catch (error) {\r\n          console.error('Error finishing game:', error);\r\n        }\r\n      }\r\n      \r\n      return;\r\n    }\r\n\r\n    setCurrentPlayer(newGameState.currentPlayer);\r\n\r\n    // Jika vs bot dan bukan giliran pemain\r\n    if (gameState.gameType === 'bot' && newGameState.currentPlayer !== gameState.playerColor) {\r\n      setIsPlayerTurn(false);\r\n      \r\n      // Bot bergerak setelah delay\r\n      setTimeout(async () => {\r\n        const botMove = makeBotMove(moveData.board, newGameState.currentPlayer);\r\n        if (botMove) {\r\n          const botBoard = [...moveData.board];\r\n          botBoard[botMove.to[0]][botMove.to[1]] = botBoard[botMove.from[0]][botMove.from[1]];\r\n          botBoard[botMove.from[0]][botMove.from[1]] = null;\r\n          \r\n          // Cek skakmat setelah gerakan bot\r\n          const isBotGameOver = isCheckmate(botBoard, gameState.playerColor);\r\n          \r\n          if (isBotGameOver) {\r\n            setGameResult({\r\n              winner: newGameState.currentPlayer,\r\n              isPlayerWin: false,\r\n              message: 'Bot menang! Coba lagi!'\r\n            });\r\n            setGameState(prev => ({ ...prev, board: botBoard }));\r\n            \r\n            // Update poin untuk kekalahan\r\n            await updatePlayerPoints(false, gameState.gameType);\r\n            return;\r\n          }\r\n          \r\n          setGameState(prev => ({\r\n            ...prev,\r\n            board: botBoard,\r\n            currentPlayer: gameState.playerColor\r\n          }));\r\n          setCurrentPlayer(gameState.playerColor);\r\n          setIsPlayerTurn(true);\r\n        }\r\n      }, 1000);\r\n    } else if (gameState.gameType !== 'bot') {\r\n      // Kirim gerakan ke socket untuk multiplayer\r\n      socket.emit('makeMove', {\r\n        gameId: gameState.id,\r\n        move: moveData\r\n      });\r\n    } else {\r\n      setIsPlayerTurn(true);\r\n    }\r\n  };\r\n\r\n  const startGame = async (gameType) => {\r\n    if (gameType === 'bot') {\r\n      // Langsung mulai game vs bot\r\n      const newGameState = {\r\n        id: Date.now(),\r\n        gameType: 'bot',\r\n        playerColor: 'white',\r\n        board: [\r\n          ['♜', '♞', '♝', '♛', '♚', '♝', '♞', '♜'],\r\n          ['♟', '♟', '♟', '♟', '♟', '♟', '♟', '♟'],\r\n          [null, null, null, null, null, null, null, null],\r\n          [null, null, null, null, null, null, null, null],\r\n          [null, null, null, null, null, null, null, null],\r\n          [null, null, null, null, null, null, null, null],\r\n          ['♙', '♙', '♙', '♙', '♙', '♙', '♙', '♙'],\r\n          ['♖', '♘', '♗', '♕', '♔', '♗', '♘', '♖']\r\n        ]\r\n      };\r\n      setGameState(newGameState);\r\n      setCurrentPlayer('white');\r\n      setIsPlayerTurn(true);\r\n      setGameResult(null);\r\n      setCurrentPage('game');\r\n    } else {\r\n      // Untuk random dan friend, kirim request\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        socket.emit('findGame', { gameType, userId: user.id, token });\r\n        alert(`Mencari ${gameType === 'random' ? 'lawan random' : 'teman'}...`);\r\n      } catch (error) {\r\n        alert('Gagal memulai permainan: ' + error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const sendGameRequest = (friendId) => {\r\n    socket.emit('gameRequest', {\r\n      from: user.id,\r\n      to: friendId,\r\n      fromUsername: user.username\r\n    });\r\n    alert('Permintaan permainan dikirim!');\r\n  };\r\n\r\n  const acceptGameRequest = (requestId) => {\r\n    socket.emit('acceptGameRequest', requestId);\r\n    setGameRequests(prev => prev.filter(req => req.id !== requestId));\r\n  };\r\n\r\n  const rejectGameRequest = (requestId) => {\r\n    socket.emit('rejectGameRequest', requestId);\r\n    setGameRequests(prev => prev.filter(req => req.id !== requestId));\r\n  };\r\n\r\n  const fetchFriends = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.get(`${API_URL}/api/friends`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setFriends(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching friends:', error);\r\n      // Fallback: tampilkan data dummy jika API tidak tersedia\r\n      setFriends([\r\n        { id: 1, username: 'player1', points: 1500 },\r\n        { id: 2, username: 'player2', points: 1200 },\r\n        { id: 3, username: 'player3', points: 1800 }\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const searchUsers = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.get(`${API_URL}/api/users/search?q=${searchTerm}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setAllUsers(response.data);\r\n    } catch (error) {\r\n      console.error('Error searching users:', error);\r\n      // Fallback: tampilkan data dummy\r\n      const dummyUsers = [\r\n        { id: 4, username: 'chessmaster', points: 2000 },\r\n        { id: 5, username: 'rookie123', points: 800 },\r\n        { id: 6, username: 'grandmaster', points: 2500 }\r\n      ].filter(user => user.username.toLowerCase().includes(searchTerm.toLowerCase()));\r\n      setAllUsers(dummyUsers);\r\n    }\r\n  };\r\n\r\n  const addFriend = async (userId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await axios.post(`${API_URL}/api/friends/add`, \r\n        { friendId: userId }, \r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      alert('Teman berhasil ditambahkan!');\r\n      fetchFriends();\r\n    } catch (error) {\r\n      alert('Gagal menambahkan teman: ' + error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const fetchLeaderboard = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/leaderboard`);\r\n      setLeaderboard(response.data);\r\n      console.log('Leaderboard updated:', response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching leaderboard:', error);\r\n      // Fallback data dengan user terkini\r\n      const fallbackData = [\r\n        { id: 1, username: 'grandmaster', points: 2500 },\r\n        { id: 2, username: 'chessking', points: 2200 },\r\n        { id: 3, username: 'strategymaster', points: 2000 },\r\n        { id: 4, username: 'player1', points: 1800 },\r\n        { id: 5, username: 'rookie123', points: 1500 }\r\n      ];\r\n      \r\n      // Tambahkan user saat ini jika belum ada\r\n      if (user && !fallbackData.find(p => p.username === user.username)) {\r\n        fallbackData.push({\r\n          id: user.id,\r\n          username: user.username,\r\n          points: user.points || 0,\r\n          games_played: user.games_played || 0,\r\n          wins: user.wins || 0\r\n        });\r\n      }\r\n      \r\n      // Sort berdasarkan poin\r\n      fallbackData.sort((a, b) => b.points - a.points);\r\n      setLeaderboard(fallbackData);\r\n    }\r\n  };\r\n\r\n  const updateProfile = async (updatedProfile) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.put(`${API_URL}/api/profile`, updatedProfile, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setProfile(response.data.user);\r\n      setUser(response.data.user);\r\n      alert('Profil berhasil diperbarui!');\r\n    } catch (error) {\r\n      alert('Gagal memperbarui profil: ' + error.response?.data?.message || error.message);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token');\r\n    socket.emit('userDisconnected', user?.id);\r\n    setUser(null);\r\n    setCurrentPage('login');\r\n  };\r\n\r\n  const renderLogin = () => (\r\n    <div className=\"auth-container\">\r\n      <div className=\"auth-card\">\r\n        <h2>🇮🇩 Catur Indonesia - Login</h2>\r\n        <form onSubmit={handleLogin}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n            value={loginData.username}\r\n            onChange={(e) => setLoginData({...loginData, username: e.target.value})}\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={loginData.password}\r\n            onChange={(e) => setLoginData({...loginData, password: e.target.value})}\r\n            required\r\n          />\r\n          <button type=\"submit\">Login</button>\r\n        </form>\r\n        <p>Belum punya akun? <button onClick={() => setCurrentPage('register')}>Daftar</button></p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderRegister = () => (\r\n    <div className=\"auth-container\">\r\n      <div className=\"auth-card\">\r\n        <h2>🇮🇩 Catur Indonesia - Daftar</h2>\r\n        <form onSubmit={handleRegister}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n            value={registerData.username}\r\n            onChange={(e) => setRegisterData({...registerData, username: e.target.value})}\r\n            required\r\n          />\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={registerData.email}\r\n            onChange={(e) => setRegisterData({...registerData, email: e.target.value})}\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={registerData.password}\r\n            onChange={(e) => setRegisterData({...registerData, password: e.target.value})}\r\n            required\r\n          />\r\n          <select\r\n            value={registerData.role}\r\n            onChange={(e) => setRegisterData({...registerData, role: e.target.value})}\r\n          >\r\n            <option value=\"user\">User</option>\r\n            <option value=\"admin\">Admin</option>\r\n          </select>\r\n          <button type=\"submit\">Daftar</button>\r\n        </form>\r\n        <p>Sudah punya akun? <button onClick={() => setCurrentPage('login')}>Login</button></p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderNavigation = () => (\r\n    <nav className=\"navigation\">\r\n      <div className=\"nav-brand\">🇮🇩 Catur Indonesia</div>\r\n      <div className=\"nav-links\">\r\n        <button onClick={() => setCurrentPage('dashboard')}>Dashboard</button>\r\n        <button onClick={() => setCurrentPage('play')}>Main</button>\r\n        <button onClick={() => { setCurrentPage('friends'); fetchFriends(); }}>Teman</button>\r\n        <button onClick={() => setCurrentPage('tutorial')}>Tutorial</button>\r\n        <button onClick={() => setCurrentPage('profile')}>Profil</button>\r\n        <button onClick={() => { setCurrentPage('leaderboard'); fetchLeaderboard(); }}>Papan Skor</button>\r\n        <button onClick={logout}>Keluar</button>\r\n      </div>\r\n      <div className=\"user-info\">\r\n        Halo, {user?.username}! (Poin: {user?.points || 0})\r\n        {gameRequests.length > 0 && (\r\n          <span className=\"notification-badge\">{gameRequests.length}</span>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n\r\n  const renderGameRequests = () => {\r\n    if (gameRequests.length === 0) return null;\r\n    \r\n    return (\r\n      <div className=\"game-requests\">\r\n        <h3>Permintaan Permainan</h3>\r\n        {gameRequests.map(request => (\r\n          <div key={request.id} className=\"game-request\">\r\n            <p>{request.fromUsername} mengundang Anda bermain catur</p>\r\n            <button onClick={() => acceptGameRequest(request.id)}>Terima</button>\r\n            <button onClick={() => rejectGameRequest(request.id)}>Tolak</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderDashboard = () => (\r\n    <div className=\"dashboard\">\r\n      <h1>Selamat Datang di Catur Indonesia! 🇮🇩</h1>\r\n      {renderGameRequests()}\r\n      <div className=\"welcome-card\">\r\n        <h2>Halo, {user?.username}!</h2>\r\n        <p>Selamat datang di platform catur terbesar Indonesia. Mari mulai permainan yang menantang!</p>\r\n        <div className=\"stats\">\r\n          <div className=\"stat-item\">\r\n            <h3>Poin Anda</h3>\r\n            <p>{user?.points || 0}</p>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <h3>Permainan Dimainkan</h3>\r\n            <p>{user?.games_played || 0}</p>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <h3>Kemenangan</h3>\r\n            <p>{user?.wins || 0}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderPlay = () => (\r\n    <div className=\"play-section\">\r\n      <h1>Pilih Mode Permainan</h1>\r\n      <div className=\"game-modes\">\r\n        <div className=\"game-mode-card\" onClick={() => startGame('random')}>\r\n          <h3>🎲 Lawan Random</h3>\r\n          <p>Bermain melawan pemain acak</p>\r\n        </div>\r\n        <div className=\"game-mode-card\" onClick={() => startGame('bot')}>\r\n          <h3>🤖 Lawan Bot</h3>\r\n          <p>Berlatih melawan komputer</p>\r\n        </div>\r\n        <div className=\"game-mode-card\" onClick={() => startGame('friend')}>\r\n          <h3>👥 Undang Teman</h3>\r\n          <p>Bermain dengan teman</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderGame = () => (\r\n    <div className=\"game-container\">\r\n      <h2>Permainan Catur</h2>\r\n      {gameResult && (\r\n        <div className={`game-result ${gameResult.isPlayerWin ? 'win' : 'lose'}`}>\r\n          <h3>{gameResult.message}</h3>\r\n          {gameResult.isPlayerWin && <p>+{gameState.gameType === 'bot' ? 50 : 100} poin!</p>}\r\n          <button onClick={() => setCurrentPage('dashboard')}>Kembali ke Dashboard</button>\r\n          <button onClick={() => startGame(gameState.gameType)}>Main Lagi</button>\r\n        </div>\r\n      )}\r\n      <ChessBoard \r\n        gameState={gameState} \r\n        onMove={handleMove}\r\n        currentPlayer={currentPlayer}\r\n        isPlayerTurn={isPlayerTurn}\r\n        gameResult={gameResult}\r\n      />\r\n      <button onClick={() => setCurrentPage('dashboard')}>Kembali ke Dashboard</button>\r\n    </div>\r\n  );\r\n\r\n  const renderFriends = () => (\r\n    <div className=\"friends-section\">\r\n      <h1>Daftar Teman</h1>\r\n      \r\n      {/* Search Section */}\r\n      <div className=\"search-section\">\r\n        <h3>Cari Pengguna Baru</h3>\r\n        <div className=\"search-bar\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Masukkan username...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n          <button onClick={searchUsers}>Cari</button>\r\n        </div>\r\n        \r\n        {allUsers.length > 0 && (\r\n          <div className=\"search-results\">\r\n            <h4>Hasil Pencarian:</h4>\r\n            {allUsers.map(user => (\r\n              <div key={user.id} className=\"user-card\">\r\n                <h3>{user.username}</h3>\r\n                <p>Poin: {user.points}</p>\r\n                <button onClick={() => addFriend(user.id)}>Tambah Teman</button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Friends List */}\r\n      <div className=\"friends-list\">\r\n        <h3>Teman Anda</h3>\r\n        {friends.length === 0 ? (\r\n          <p>Anda belum memiliki teman. Cari dan tambahkan teman baru!</p>\r\n        ) : (\r\n          friends.map(friend => (\r\n            <div key={friend.id} className=\"friend-card\">\r\n              <h3>{friend.username}</h3>\r\n              <p>Poin: {friend.points}</p>\r\n              <button onClick={() => sendGameRequest(friend.id)}>Undang Main</button>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderTutorial = () => (\r\n    <div className=\"tutorial-section\">\r\n      <h1>Tutorial Catur Indonesia</h1>\r\n      <div className=\"tutorial-content\">\r\n        <h2>Cara Bermain Catur</h2>\r\n        <p>Catur adalah permainan strategi untuk dua pemain yang dimainkan di atas papan berpetak 8x8.</p>\r\n        \r\n        <h3>Peraturan Dasar:</h3>\r\n        <ul>\r\n          <li>Setiap pemain memulai dengan 16 buah catur</li>\r\n          <li>Tujuan: mengalahkan raja lawan (skakmat)</li>\r\n          <li>Pemain dengan buah putih bergerak terlebih dahulu</li>\r\n          <li>Setiap buah memiliki cara bergerak yang berbeda</li>\r\n        </ul>\r\n\r\n        <h3>Gerakan Buah Catur:</h3>\r\n        <ul>\r\n          <li><strong>Raja (♔/♚):</strong> Bergerak satu kotak ke segala arah</li>\r\n          <li><strong>Ratu (♕/♛):</strong> Bergerak bebas horizontal, vertikal, dan diagonal</li>\r\n          <li><strong>Benteng (♖/♜):</strong> Bergerak horizontal dan vertikal</li>\r\n          <li><strong>Gajah (♗/♝):</strong> Bergerak diagonal</li>\r\n          <li><strong>Kuda (♘/♞):</strong> Bergerak berbentuk L</li>\r\n          <li><strong>Pion (♙/♟):</strong> Bergerak maju satu kotak, memakan diagonal</li>\r\n        </ul>\r\n\r\n        <h3>Gerakan Khusus:</h3>\r\n        <ul>\r\n          <li><strong>Rokade:</strong> Gerakan khusus raja dan benteng</li>\r\n          <li><strong>En Passant:</strong> Cara khusus pion memakan pion lawan</li>\r\n          <li><strong>Promosi Pion:</strong> Pion yang mencapai ujung papan dapat dipromosikan</li>\r\n        </ul>\r\n\r\n        <h3>Sistem Poin:</h3>\r\n        <ul>\r\n          <li>Menang vs Bot: +50 poin</li>\r\n          <li>Menang vs Pemain: +100 poin</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderProfile = () => (\r\n    <div className=\"profile-section\">\r\n      <h1>Profil Pengguna</h1>\r\n      <div className=\"profile-form\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          value={profile.username}\r\n          onChange={(e) => setProfile({...profile, username: e.target.value})}\r\n        />\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={profile.email}\r\n          onChange={(e) => setProfile({...profile, email: e.target.value})}\r\n        />\r\n        <p>Poin: {profile.points}</p>\r\n        <p>Permainan Dimainkan: {profile.games_played || 0}</p>\r\n        <p>Kemenangan: {profile.wins || 0}</p>\r\n        <button onClick={() => updateProfile(profile)}>Perbarui Profil</button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderLeaderboard = () => (\r\n    <div className=\"leaderboard-section\">\r\n      <h1>Papan Skor</h1>\r\n      <button onClick={fetchLeaderboard} style={{marginBottom: '20px'}}>\r\n        🔄 Refresh Leaderboard\r\n      </button>\r\n      <div className=\"leaderboard-list\">\r\n        {leaderboard.map((player, index) => (\r\n          <div key={player.id} className={`leaderboard-item ${player.username === user?.username ? 'current-user' : ''}`}>\r\n            <span className=\"rank\">#{index + 1}</span>\r\n            <span className=\"username\">{player.username}</span>\r\n            <span className=\"points\">{player.points} poin</span>\r\n            <span className=\"stats\">\r\n              ({player.games_played || 0} games, {player.wins || 0} wins)\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"App\">\r\n        {currentPage === 'login' && renderLogin()}\r\n        {currentPage === 'register' && renderRegister()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {renderNavigation()}\r\n      <main className=\"main-content\">\r\n        {currentPage === 'dashboard' && renderDashboard()}\r\n        {currentPage === 'play' && renderPlay()}\r\n        {currentPage === 'game' && renderGame()}\r\n        {currentPage === 'friends' && renderFriends()}\r\n        {currentPage === 'tutorial' && renderTutorial()}\r\n        {currentPage === 'profile' && renderProfile()}\r\n        {currentPage === 'leaderboard' && renderLeaderboard()}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}